"use strict";

var _extends2 = require("babel-runtime/helpers/extends");

var _extends3 = _interopRequireDefault(_extends2);

var _objectWithoutProperties2 = require("babel-runtime/helpers/objectWithoutProperties");

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _gatsby1ConfigCssModules = require("gatsby-1-config-css-modules");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.modifyBabelrc = function (_ref2, _ref) {
  var babelrc = _ref2.babelrc;
  var plugins = _ref.plugins,
      options = (0, _objectWithoutProperties3.default)(_ref, ["plugins"]);

  return (0, _extends3.default)({}, babelrc, {
    plugins: [].concat(babelrc.plugins || [], [[`react-css-modules`, (0, _extends3.default)({
      generateScopedName: _gatsby1ConfigCssModules.LOCAL_IDENT_NAME,
      webpackHotModuleReloading: process.env.NODE_ENV !== `production`
    }, options)]])
  });
};